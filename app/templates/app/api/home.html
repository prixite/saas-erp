{% load render_bundle from webpack_loader %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato&display=swap"
      rel="stylesheet"
    />

    <title>Sass ERP</title>
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="{% static 'app/assets/logo.svg' %}"
    />
    {% render_bundle 'main' 'css' %}
  </head>
  <body data-flags="{% block data_flags %}{% endblock %}">
    {% block body %}{% endblock %}
    <form name="csrf">{% csrf_token %}</form>
    <div id="container"></div>
    {% block js_includes %}{% endblock %}
    {% render_bundle 'main' 'js' %}
    <script>
      var ws = new WebSocket('ws://127.0.0.1:8000/ws/sc/')
      ws.addEventListener('open',()=>{
          console.log("WebSocket connection open..")
      })

      ws.addEventListener('message',(event)=>{
          console.log("Message recieved from server..", event.data)
          console.log(event.data)
      })

      ws.addEventListener('error',(event)=>{
          console.log("Websocket error occured..", event)
      })

      ws.addEventListener('close',(event)=>{
          console.log("Websocket connection closed..", event)
      })
  </script>
  </body>
</html>
